(()=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function n(e,n,a){return(n=function(e){var n=function(e,n){if("object"!==t(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var c=a.call(e,n||"default");if("object"!==t(c))return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===t(n)?n:String(n)}(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function a(t){var e=(JSON.parse(localStorage.getItem("cart"))||{})["store_".concat(t)]||{},n=Object.values(e).filter((function(t){return t&&t.id})).length,a=n>0?n:0;if(0==a){var c=$("#cartItems");c.html("");var o=$("#totalDetails");o.html("");var r=$("#cartItemsCloth");r.html(""),c.html('\n              <tr>\n           <td colspan="5">\n            <div class="d-flex py-3 justify-content-center align-items-center w-100" >\n                    <h4 class="fs-18  text-muted mb-0">'.concat(Lang.get("js.item_not_addded_to_cart"),"</h4>\n                </div>\n           </td>\n       </tr>\n        ")),r.html('\n       <tr>\n           <td colspan="5">\n            <div class="d-flex py-3 justify-content-center align-items-center w-100" >\n                    <h4 class="fs-18  text-muted mb-0">'.concat(Lang.get("js.item_not_addded_to_cart"),"</h4>\n                </div>\n           </td>\n       </tr>\n        ")),o.html('\n            <div class="text-center py-3 w-100">\n                <h4 class="fs-18 text-muted">'.concat(Lang.get("js.item_not_addded_to_cart"),"</h4>\n            </div>\n        ")),$(".order-btn").prop("disabled",!0)}else $(".order-btn").prop("disabled",!1);$(".product-count-badge").text(a)}document.addEventListener("DOMContentLoaded",(function(){var t=$("#whatsappStoreId").val();!function(){var t=document.querySelector("#phoneNumber"),e=document.querySelector("#prefix_code");if(t){var n=window.intlTelInput(t,{initialCountry:defaultCountryCodeValue,preferredCountries:["us","gb","in"],separateDialCode:!0});t.addEventListener("countrychange",(function(){var t=n.getSelectedCountryData();e.value=t.dialCode}))}}(),Lang.setLocale(lang),a(t)})),listenClick(".addToCartBtn",(function(c){c.preventDefault();var o=$(this),r=o.html();o.html(" âœ“ ").addClass("animate-btn"),o.prop("disabled",!0),setTimeout((function(){o.removeClass("animate-btn"),o.prop("disabled",!1),o.html(r)}),2e3);var i=$("#whatsappStoreId").val(),s=($(this).attr("data-id"),$(this).closest(".item-card, .product-card, .details, .product-detail-content, .product-box-section"));!function(c,o){var r=JSON.parse(localStorage.getItem("cart"))||{};r["store_".concat(c)]||(r["store_".concat(c)]={grand_total:0});var i=r["store_".concat(c)];if(i[o.id]&&i[o.id].qty>=o.available_stock)return void displayErrorMessage(Lang.get("js.no_more_quantity"));displaySuccessMessage(Lang.get("js.product_added_to_cart")),i[o.id]?(i[o.id].qty+=1,i[o.id].total_price=i[o.id].price*i[o.id].qty):i[o.id]=function(t){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{};a%2?e(Object(c),!0).forEach((function(e){n(t,e,c[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):e(Object(c)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(c,e))}))}return t}({},o);i.grand_total=Object.values(i).filter((function(e){return"object"===t(e)})).reduce((function(t,e){return t+Number(e.total_price)}),0),localStorage.setItem("cart",JSON.stringify(r)),a(c)}(i,{id:$(this).data("id"),name:s.find(".product-name").text().trim(),available_stock:s.find(".available-stock").val(),image_url:s.find(".product-image").attr("src")||s.find(".product-image").val(),currency_icon:s.find(".currency_icon").text().trim(),category_name:s.find(".product-category").text().trim()||s.find(".product-category").val(),qty:1,price:s.find(".selling_price").text().trim(),total_price:s.find(".selling_price").text().trim()})})),listenClick("#addToCartViewBtn",(function(){var t,e=$("#whatsappStoreId").val(),n=(JSON.parse(localStorage.getItem("cart"))||{})["store_".concat(e)]||{},a=null!==(t=null==n?void 0:n.grand_total)&&void 0!==t?t:0,c=Object.values(n).filter((function(t){return t&&null!=t.id})),o=$("#cartItems");o.html("");var r="ar"==Lang.getLocale()?"rtl":"",i=$("#totalDetails");i.html("");var s=$("#cartItemsCloth");s.html(""),0===c.length?(o.html('\n              <tr>\n           <td colspan="5">\n            <div class="d-flex py-3 justify-content-center align-items-center w-100" >\n                    <h4 class="fs-18  text-muted mb-0">'.concat(Lang.get("js.item_not_addded_to_cart"),"</h4>\n                </div>\n           </td>\n       </tr>\n        ")),s.html('\n       <tr>\n           <td colspan="5">\n            <div class="d-flex py-3 justify-content-center align-items-center w-100" >\n                    <h4 class="fs-18  text-muted mb-0">'.concat(Lang.get("js.item_not_addded_to_cart"),"</h4>\n                </div>\n           </td>\n       </tr>\n        ")),i.html('\n            <div class="text-center py-3 w-100">\n                <h4 class="fs-18 text-muted">'.concat(Lang.get("js.item_not_addded_to_cart"),"</h4>\n            </div>\n        "))):$.each(c,(function(t,e){o.append('\n            <tr class="'.concat(r,'">\n                <td class="fw-6 fs-14">\n                    <div class="d-flex gap-lg-4 gap-3 align-items-center">\n                        <div class="product-img">\n                            <img  src="').concat(e.image_url,'" alt="product" style="width: 50px ; height: 50px;" class=" object-fit-cover rounded"  loading="lazy" />\n                        </div>\n                        <div>\n                            <h5 class="fs-18 fw-6 mb-0">').concat(e.name,'</h5>\n                            <p class="mb-0 fs-14">').concat(e.category_name,'</p>\n                        </div>\n                    </div>\n                </td>\n                <td class="fw-6 fs-14">').concat(e.currency_icon," ").concat(e.price,'</td>\n                <td class="text-center">\n                    <div class="btn-group gap-1 justify-content-center">\n                        <button type="button" class="btn minus-btn" data-id="').concat(e.id,'">-</button>\n                        <button type="button" class="btn count-btn bg-white" id="qty_').concat(e.id,'">').concat(e.qty,'</button>\n                        <button type="button" class="btn plus-btn" data-id="').concat(e.id,'">+</button>\n                    </div>\n                </td>\n                <td class="fw-6 fs-14 text-end" id="total_').concat(e.id,'">').concat(e.currency_icon," ").concat(e.total_price,'</td>\n                 <td class="text-center">\n                <button type="button" class="btn delete-btn" data-id="').concat(e.id,'" style="padding:4px 8px;">\n                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 256 256">\n                              <g fill="#f00808" fill-rule="nonzero">\n                    <g transform="scale(8.53333,8.53333)">\n                 <path d="M14.98438,2.48633c-0.55152,0.00862 -0.99193,0.46214 -0.98437,1.01367v0.5h-5.5c-0.26757,-0.00363 -0.52543,0.10012 -0.71593,0.28805c-0.1905,0.18793 -0.29774,0.44436 -0.29774,0.71195h-1.48633c-0.36064,-0.0051 -0.69608,0.18438 -0.87789,0.49587c-0.18181,0.3115 -0.18181,0.69676 0,1.00825c0.18181,0.3115 0.51725,0.50097 0.87789,0.49587h18c0.36064,0.0051 0.69608,-0.18438 0.87789,-0.49587c0.18181,-0.3115 0.18181,-0.69676 0,-1.00825c-0.18181,-0.3115 -0.51725,-0.50097 -0.87789,-0.49587h-1.48633c0,-0.26759 -0.10724,-0.52403 -0.29774,-0.71195c-0.1905,-0.18793 -0.44836,-0.29168 -0.71593,-0.28805h-5.5v-0.5c0.0037,-0.2703 -0.10218,-0.53059 -0.29351,-0.72155c-0.19133,-0.19097 -0.45182,-0.29634 -0.72212,-0.29212zM6,9l1.79297,15.23438c0.118,1.007 0.97037,1.76563 1.98438,1.76563h10.44531c1.014,0 1.86538,-0.75862 1.98438,-1.76562l1.79297,-15.23437z"></path>\n                     </g>\n                 </g>\n                     </svg>\n                </button>\n\n                </td>\n            </tr>\n        ')),s.append('\n <tr>\n   <td>\n      <div class="product-card-box d-flex align-items-center gap-20">\n         <div class="product-img">\n            <img src="'.concat(e.image_url,'" alt="images"\n               class="h-100 w-100 object-fit-cover" loading="lazy" />\n         </div>\n         <div>\n            <p class="fs-18 fw-5 mb-1 restaurant-white">').concat(e.name,'</p>\n            <p class="fs-14 text-gray-200 fw-5 mb-0 restaurant-white">').concat(e.category_name,'</p>\n\n         </div>\n      </div>\n   </td>\n   <td>\n      <div class="d-flex count-btn w-100 mx-auto align-items-center">\n         <button type="button" class="btn minus-btn count-modal-btn restaurant-white"  data-id="').concat(e.id,'">-</button>\n         <p class="fs-14 fw-5 mb-0 text-black w-100 text-center restaurant-white" id="qty_').concat(e.id,'">').concat(e.qty,'</p>\n         <button type="button" class="btn plus-btn count-modal-btn restaurant-white" data-id="').concat(e.id,'">+</button>\n      </div>\n   </td>\n\n    <td class="fs-16 fw-5 text-center text-nowrap restaurant-white">\n      ').concat(e.currency_icon," ").concat(e.price,'\n   </td>\n\n   <td class="text-center">\n      <button type="button" class="btn delete-btn" data-id="').concat(e.id,'" style="padding:4px 8px;">\n         <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 256 256">\n            <g fill="#f00808" fill-rule="nonzero">\n               <g transform="scale(8.53333,8.53333)">\n                  <path d="M14.98438,2.48633c-0.55152,0.00862 -0.99193,0.46214 -0.98437,1.01367v0.5h-5.5c-0.26757,-0.00363 -0.52543,0.10012 -0.71593,0.28805c-0.1905,0.18793 -0.29774,0.44436 -0.29774,0.71195h-1.48633c-0.36064,-0.0051 -0.69608,0.18438 -0.87789,0.49587c-0.18181,0.3115 -0.18181,0.69676 0,1.00825c0.18181,0.3115 0.51725,0.50097 0.87789,0.49587h18c0.36064,0.0051 0.69608,-0.18438 0.87789,-0.49587c0.18181,-0.3115 0.18181,-0.69676 0,-1.00825c-0.18181,-0.3115 -0.51725,-0.50097 -0.87789,-0.49587h-1.48633c0,-0.26759 -0.10724,-0.52403 -0.29774,-0.71195c-0.1905,-0.18793 -0.44836,-0.29168 -0.71593,-0.28805h-5.5v-0.5c0.0037,-0.2703 -0.10218,-0.53059 -0.29351,-0.72155c-0.19133,-0.19097 -0.45182,-0.29634 -0.72212,-0.29212zM6,9l1.79297,15.23438c0.118,1.007 0.97037,1.76563 1.98438,1.76563h10.44531c1.014,0 1.86538,-0.75862 1.98438,-1.76562l1.79297,-15.23437z"></path>\n               </g>\n            </g>\n         </svg>\n      </button>\n   </td>\n</tr>\n            ')),i.append('\n            <div class="d-flex justify-content-between total-details align-items-center gap-2 my-3" id="product_'.concat(e.id,'">\n                                        <p class="fs-16 fw-5 text-black mb-0 restaurant-white">').concat(e.name,'</p>\n                                        <p class="fs-16 fw-5 text-black mb-0 restaurant-white text-nowrap">').concat(e.currency_icon,' <span id="product_cart_').concat(e.id,'">').concat(e.total_price,"</span></p>\n\n                                    </div>\n            "))})),$("#grandTotal").text("".concat(a)),$("#cartModal").modal("show")})),listenClick(".delete-btn",(function(){var e=$("#whatsappStoreId").val(),n=$(this).attr("data-id");$("#product_"+n).remove(),displaySuccessMessage(Lang.get("js.product_deleted_from_cart"));var c,o,r=JSON.parse(localStorage.getItem("cart"))||{};r["store_".concat(e)]&&r["store_".concat(e)][n]&&(delete r["store_".concat(e)][n],r["store_".concat(e)].grand_total=Object.values(r["store_".concat(e)]).filter((function(e){return"object"===t(e)})).reduce((function(t,e){return t+Number(e.total_price)}),0),1===Object.keys(r["store_".concat(e)]).length&&delete r["store_".concat(e)],localStorage.setItem("cart",JSON.stringify(r)),$(this).closest("tr").remove(),a(e),$("#grandTotal").text(" ".concat(null!==(c=null===(o=r["store_".concat(e)])||void 0===o?void 0:o.grand_total)&&void 0!==c?c:0)))})),listenClick(".plus-btn",(function(){var e=$("#whatsappStoreId").val(),n=$(this).attr("data-id"),c=JSON.parse(localStorage.getItem("cart"))||{},o=c["store_".concat(e)];o[n].qty>=o[n].available_stock?displayErrorMessage(Lang.get("js.no_more_quantity")):o&&o[n]&&(o[n].qty+=1,o[n].total_price=o[n].qty*o[n].price,o.grand_total=Object.values(o).filter((function(e){return"object"===t(e)})).reduce((function(t,e){return t+Number(e.total_price)}),0),localStorage.setItem("cart",JSON.stringify(c)),a(e),$("#qty_".concat(n)).text(o[n].qty),$("#total_".concat(n)).text("".concat(o[n].currency_icon," ").concat(o[n].total_price)),$("#product_cart_"+n).text(o[n].total_price),$("#grandTotal").text("".concat(o.grand_total)))})),listenClick(".minus-btn",(function(){var e=$("#whatsappStoreId").val(),n=$(this).attr("data-id"),c=JSON.parse(localStorage.getItem("cart"))||{},o=c["store_".concat(e)];if(o&&o[n]){if(1===o[n].qty)return;o[n].qty-=1,o[n].total_price=o[n].qty*o[n].price,o.grand_total=Object.values(o).filter((function(e){return"object"===t(e)})).reduce((function(t,e){return t+Number(e.total_price)}),0),localStorage.setItem("cart",JSON.stringify(c)),a(e),$("#qty_".concat(n)).text(o[n].qty),$("#total_".concat(n)).text("".concat(o[n].currency_icon," ").concat(o[n].total_price)),$("#product_cart_"+n).text(o[n].total_price),$("#grandTotal").text("".concat(o.grand_total))}})),listenSubmit("#orderForm",(function(e){e.preventDefault(),$(this).find(".btn").prop("disabled",!0);var n=$("#whatsappStoreId").val(),c=(JSON.parse(localStorage.getItem("cart"))||{})["store_".concat(n)],o=(null==c?void 0:c.grand_total)||0,r=[];c&&(r=Object.values(c).filter((function(e){return"object"===t(e)})).filter((function(t){return t&&null!=t.id})).map((function(t){return{id:t.id,price:t.price,qty:t.qty,total_price:t.total_price}})));var i=$(this).serialize()+"&wp_store_id="+n+"&grand_total="+o+"&products="+encodeURIComponent(JSON.stringify(r))+"&language="+lang,s=$("#productBuyUrl").val();setTimeout((function(){$.ajax({url:s,type:"POST",data:i,headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},success:function(t){t.success&&(!function(t){var e=$("#baseUrl").val(),n=$("#storeAlias").val(),a=$("#wpRegionCode").val(),c=$("#whatsappNo").val(),o=Lang.get("js.customer_details")+":\n";o+="------------------------------\n",o+=Lang.get("js.name")+": ".concat(t.name,"\n"),o+=Lang.get("js.phone")+": +".concat(t.region_code," ").concat(t.phone,"\n"),o+=Lang.get("js.address")+": ".concat(t.address,"\n\n"),o+=Lang.get("js.order_id")+": ".concat(t.order_id,"\n"),o+="------------------------------\n",o+=Lang.get("js.product_details")+":\n",o+="------------------------------\n",t.products.forEach((function(t,a){var c="".concat(e,"/whatsapp-store/").concat(n,"/").concat(t.product_id,"/product-details");o+="".concat(a+1,".\n"),o+=Lang.get("js.product_name")+": ".concat(t.product?t.product.name:"Unknown","\n"),o+=Lang.get("js.product_url")+" : ".concat(c,"\n"),o+=Lang.get("js.price")+" : ".concat(t.product.currency.currency_icon," ").concat(t.price,"\n"),o+=Lang.get("js.quantity")+" : ".concat(t.qty,"\n"),o+=Lang.get("js.total_price")+" : ".concat(t.product.currency.currency_icon," ").concat(t.total_price,"\n"),o+="------------------------------\n"})),o+="\n".concat(Lang.get("js.grand_total"),": ").concat(t.grand_total,"\n");var r=encodeURIComponent(o),i="+".concat(a).concat(c),s="https://wa.me/".concat(i,"?text=").concat(r);window.open(s,"_blank")}(t.data),localStorage.removeItem("cart"),a(n),displaySuccessMessage(Lang.get("js.order_placed")),setTimeout((function(){window.location.reload()}),3e3))},error:function(t){$(this).find(".btn").prop("disabled",!1),displayErrorMessage(t.responseJSON.message),setTimeout((function(){window.location.reload()}),4e3)}})}),3e3)})),listenClick("#languageName",(function(){var t=$(this).attr("data-name");$.ajax({url:languageChange+"/"+t+"/"+vcardAlias,type:"GET",success:function(t){location.reload()},error:function(t){alert(t.responseJSON.message)}})})),window.displaySuccessMessage=function(t){toastr.options={positionClass:"toast-top-right",progressBar:!0,closeButton:!0,timeOut:5e3,extendedTimeOut:2e3},toastr.success(t,Lang.get("js.successful"))},window.displayErrorMessage=function(t){toastr.options={positionClass:"toast-top-right",progressBar:!0,closeButton:!0,timeOut:5e3,extendedTimeOut:2e3},toastr.error(t,Lang.get("js.error"))},listenClick(".drop-item-select",(function(){$(".drop-item-select").removeClass("active"),$(this).addClass("active")})),listenClick(".custom-select-option",(function(){$(".custom-select-option").removeClass("active"),$(this).addClass("active")})),listenClick(".pwa-close",(function(){$(".pwa-support").addClass("d-none")}))})();